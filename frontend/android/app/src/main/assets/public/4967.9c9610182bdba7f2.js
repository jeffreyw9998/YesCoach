"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4967],{4967:($o,An,P)=>{P.r(An),P.d(An,{FirebaseAuthenticationWeb:()=>Ho});var a=P(5861),Vr=P(7423),d=P(2090),k=P(6881),On=P(1877),ke=P(655),Pn=P(4859);const Gr=function wn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nn=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new On.Yd("@firebase/auth");function re(r,...e){bn.logLevel<=On.in.ERROR&&bn.error(`Auth (${k.Jn}): ${r}`,...e)}function y(r,...e){throw Se(r,...e)}function E(r,...e){return Se(r,...e)}function Cn(r,e,t){const n=Object.assign(Object.assign({},Gr()),{[e]:t});return new d.LL("auth","Firebase",n).create(e,{appName:r.name})}function V(r,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&y(r,"argument-error"),Cn(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(r,...e){if("string"!=typeof r){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Nn.create(r,...e)}function c(r,e,...t){if(!r)throw Se(e,...t)}function S(r){const e="INTERNAL ASSERTION FAILED: "+r;throw re(e),new Error(e)}function w(r,e){r||S(e)}const Dn=new Map;function N(r){w(r instanceof Function,"Expected a class definition");let e=Dn.get(r);return e?(w(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dn.set(r,e),e)}function q(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.href)||""}function Ln(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class ${constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function qr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ae(){return"http:"===Ln()||"https:"===Ln()}()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oe(r,e){w(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Un{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void S("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void S("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void S("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Br={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jr=new $(3e4,6e4);function _(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function g(r,e,t,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,a.Z)(function*(r,e,t,n,i={}){return Mn(r,i,(0,a.Z)(function*(){let s={},o={};n&&("GET"===e?o=n:s={body:JSON.stringify(n)});const u=(0,d.xO)(Object.assign({key:r.config.apiKey},o)).slice(1),l=yield r._getAdditionalHeaders();return l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode),Un.fetch()(xn(r,r.config.apiHost,t,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Mn(r,e,t){return we.apply(this,arguments)}function we(){return(we=(0,a.Z)(function*(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},Br),e);try{const i=new Kr(r),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw B(r,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,h]=u.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw B(r,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw B(r,"email-already-in-use",o);if("USER_DISABLED"===l)throw B(r,"user-disabled",o);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Cn(r,f,h);y(r,f)}}catch(i){if(i instanceof d.ZR)throw i;y(r,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function b(r,e,t,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(r,e,t,n,i={}){const s=yield g(r,e,t,n,i);return"mfaPendingCredential"in s&&y(r,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function xn(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Oe(r.config,i):`${r.config.apiScheme}://${i}`}class Kr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(E(this.auth,"network-request-failed")),jr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=E(r,e,n);return i.customData._tokenResponse=t,i}function be(){return(be=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function j(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Le(){return(Le=(0,a.Z)(function*(r,e=!1){const t=(0,d.m9)(r),n=yield t.getIdToken(e),i=ie(n);c(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:j(Ue(i.auth_time)),issuedAtTime:j(Ue(i.iat)),expirationTime:j(Ue(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Ue(r){return 1e3*Number(r)}function ie(r){const[e,t,n]=r.split(".");if(void 0===e||void 0===t||void 0===n)return re("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,d.tV)(t);return i?JSON.parse(i):(re("Failed to decode base64 JWT payload"),null)}catch(i){return re("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function C(r,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(r,e,t=!1){if(t)return e;try{return yield e}catch(n){throw n instanceof d.ZR&&function ti({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}(n)&&r.auth.currentUser===r&&(yield r.auth.signOut()),n}})).apply(this,arguments)}class ni{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,a.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,a.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Fn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=j(this.lastLoginAt),this.creationTime=j(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function K(r){return xe.apply(this,arguments)}function xe(){return xe=(0,a.Z)(function*(r){var e;const t=r.auth,n=yield r.getIdToken(),i=yield C(r,function Xr(r,e){return De.apply(this,arguments)}(t,{idToken:n}));c(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ii(r){return r.map(e=>{var{providerId:t}=e,n=(0,ke._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}(s.providerUserInfo):[],u=function ri(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}(r.providerData,o),f=!!r.isAnonymous&&!(r.email&&s.passwordHash||null!=u&&u.length),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Fn(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,m)}),xe.apply(this,arguments)}function Wn(r){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(r){const e=(0,d.m9)(r);yield K(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(r,e){const t=yield Mn(r,{},(0,a.Z)(function*(){const n=(0,d.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,o=xn(r,i,"/v1/token",`key=${s}`),u=yield r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Un.fetch()(o,{method:"POST",headers:u,body:n})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){c(e.idToken,"internal-error"),c(typeof e.idToken<"u","internal-error"),c(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ei(r){const e=ie(r);return c(e,"internal-error"),c(typeof e.exp<"u","internal-error"),c(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,a.Z)(function*(){return c(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,a.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function si(r,e){return We.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,o=new J;return n&&(c("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(c("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(c("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return S("not implemented")}}function U(r,e){c("string"==typeof r||typeof r>"u","internal-error",{appName:e})}class F{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=(0,ke._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,a.Z)(function*(){const n=yield C(t,t.stsTokenManager.getToken(t.auth,e));return c(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function Qr(r){return Le.apply(this,arguments)}(this,e)}reload(){return Wn(this)}_assign(e){this!==e&&(c(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new F(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){c(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,a.Z)(function*(){let i=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield K(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,a.Z)(function*(){const t=yield e.getIdToken();return yield C(e,function Jr(r,e){return be.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,o,u,l,h,f;const m=null!==(n=t.displayName)&&void 0!==n?n:void 0,O=null!==(i=t.email)&&void 0!==i?i:void 0,x=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,Re=null!==(o=t.photoURL)&&void 0!==o?o:void 0,Ur=null!==(u=t.tenantId)&&void 0!==u?u:void 0,En=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,Mr=null!==(h=t.createdAt)&&void 0!==h?h:void 0,xr=null!==(f=t.lastLoginAt)&&void 0!==f?f:void 0,{uid:Rn,emailVerified:Fr,isAnonymous:Wr,providerData:kn,stsTokenManager:Zr}=t;c(Rn&&Zr,e,"internal-error");const zo=J.fromJSON(this.name,Zr);c("string"==typeof Rn,e,"internal-error"),U(m,e.name),U(O,e.name),c("boolean"==typeof Fr,e,"internal-error"),c("boolean"==typeof Wr,e,"internal-error"),U(x,e.name),U(Re,e.name),U(Ur,e.name),U(En,e.name),U(Mr,e.name),U(xr,e.name);const Sn=new F({uid:Rn,auth:e,email:O,emailVerified:Fr,displayName:m,isAnonymous:Wr,photoURL:Re,phoneNumber:x,tenantId:Ur,stsTokenManager:zo,createdAt:Mr,lastLoginAt:xr});return kn&&Array.isArray(kn)&&(Sn.providerData=kn.map(qo=>Object.assign({},qo))),En&&(Sn._redirectEventId=En),Sn}static _fromIdTokenResponse(e,t,n=!1){return(0,a.Z)(function*(){const i=new J;i.updateFromServerResponse(t);const s=new F({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return yield K(s),s})()}}const Zn=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(t,n){var i=this;return(0,a.Z)(function*(){i.storage[t]=n})()}_get(t){var n=this;return(0,a.Z)(function*(){const i=n.storage[t];return void 0===i?null:i})()}_remove(t){var n=this;return(0,a.Z)(function*(){delete n.storage[t]})()}_addListener(t,n){}_removeListener(t,n){}}return r.type="NONE",r})();function se(r,e,t){return`firebase:${r}:${e}:${t}`}class G{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=se(this.userKey,i.apiKey,s),this.fullPersistenceKey=se("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,a.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?F._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,a.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,a.Z)(function*(){if(!t.length)return new G(N(Zn),e,n);const i=(yield Promise.all(t.map(function(){var h=(0,a.Z)(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let s=i[0]||N(Zn);const o=se(n,e.config.apiKey,e.name);let u=null;for(const h of t)try{const f=yield h._get(o);if(f){const m=F._fromJSON(e,f);h!==s&&(u=m),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],u&&(yield s._set(o,u.toJSON())),yield Promise.all(t.map(function(){var h=(0,a.Z)(function*(f){if(f!==s)try{yield f._remove(o)}catch{}});return function(f){return h.apply(this,arguments)}}())),new G(s,e,n)):new G(s,e,n)})()}}function Vn(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zn(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gn(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($n(e))return"Blackberry";if(Bn(e))return"Webos";if(Ze(e))return"Safari";if((e.includes("chrome/")||Hn(e))&&!e.includes("edge/"))return"Chrome";if(qn(e))return"Android";{const n=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Gn(r=(0,d.z$)()){return/firefox\//i.test(r)}function Ze(r=(0,d.z$)()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hn(r=(0,d.z$)()){return/crios\//i.test(r)}function zn(r=(0,d.z$)()){return/iemobile/i.test(r)}function qn(r=(0,d.z$)()){return/android/i.test(r)}function $n(r=(0,d.z$)()){return/blackberry/i.test(r)}function Bn(r=(0,d.z$)()){return/webos/i.test(r)}function oe(r=(0,d.z$)()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jn(r=(0,d.z$)()){return oe(r)||qn(r)||Bn(r)||$n(r)||/windows phone/i.test(r)||zn(r)}function Kn(r,e=[]){let t;switch(r){case"Browser":t=Vn((0,d.z$)());break;case"Worker":t=`${Vn((0,d.z$)())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${k.Jn}/${n}`}class ci{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,u)=>{try{o(e(s))}catch(l){u(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,a.Z)(function*(){if(t.auth.currentUser===e)return;const n=[];try{for(const i of t.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class li{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jn(this),this.idTokenSubscription=new Jn(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=N(t)),this._initializationPromise=this.queue((0,a.Z)(function*(){var i,s;if(!n._deleted&&(n.persistenceManager=yield G.create(n,e),!n._deleted)){if(null!==(i=n._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch{}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(s=n.currentUser)||void 0===s?void 0:s.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,a.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,a.Z)(function*(){var n;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const u=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,l=null==s?void 0:s._redirectEventId,h=yield t.tryRedirectSignIn(e);(!u||u===l)&&null!=h&&h.user&&(s=h.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(u){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(u))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return c(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,a.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,a.Z)(function*(){try{yield K(e)}catch(n){if("auth/network-request-failed"!==(null==n?void 0:n.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $r(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var e=this;return(0,a.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,a.Z)(function*(){const n=e?(0,d.m9)(e):null;return n&&c(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,a.Z)(function*(){if(!n._deleted)return e&&c(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,a.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,a.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,a.Z)(function*(){yield t.assertedPersistence.setPersistence(N(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new d.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,a.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,a.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&N(e)||t._popupRedirectResolver;c(n,t,"argument-error"),t.redirectPersistenceManager=yield G.create(t,[N(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,a.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,a.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,a.Z)(function*(){if(e===t.currentUser)return t.queue((0,a.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return c(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,a.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return c(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,a.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(n["X-Firebase-Client"]=i),n})()}}function T(r){return(0,d.m9)(r)}class Jn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,d.ne)(t=>this.observer=t)}get next(){return c(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(r,e,t){const n=T(r);c(n._canInitEmulator,n,"emulator-config-failed"),c(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!(null==t||!t.disableWarnings),s=Xn(e),{host:o,port:u}=function di(r){const e=Xn(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Qn(n.substr(s.length+1))}}{const[s,o]=n.split(":");return{host:s,port:Qn(o)}}}(e);n.config.emulator={url:`${s}//${o}${null===u?"":`:${u}`}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function hi(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r())}()}function Xn(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Qn(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}class Ve{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return S("not implemented")}_getIdTokenResponse(e){return S("not implemented")}_linkToIdToken(e,t){return S("not implemented")}_getReauthenticationResolver(e){return S("not implemented")}}function er(r,e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:resetPassword",_(r,e))})).apply(this,arguments)}function tr(r,e){return He.apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ze(){return(ze=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:update",_(r,e))})).apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signInWithPassword",_(r,e))})).apply(this,arguments)}function ae(r,e){return $e.apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:sendOobCode",_(r,e))})).apply(this,arguments)}function Be(){return(Be=(0,a.Z)(function*(r,e){return ae(r,e)})).apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(r,e){return ae(r,e)})).apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(r,e){return ae(r,e)})).apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signInWithEmailLink",_(r,e))})).apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signInWithEmailLink",_(r,e))})).apply(this,arguments)}class Y extends Ve{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Y(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Y(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(null!=t&&t.email&&null!=t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,a.Z)(function*(){switch(t.signInMethod){case"password":return function pi(r,e){return qe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function vi(r,e){return Ye.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:y(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,a.Z)(function*(){switch(n.signInMethod){case"password":return tr(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function yi(r,e){return Xe.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:y(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function D(r,e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signInWithIdp",_(r,e))})).apply(this,arguments)}class A extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new A(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=(0,ke._T)(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new A(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return D(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,D(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,D(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,d.xO)(t)}return e}}class Q{constructor(e){var t,n,i,s,o,u;const l=(0,d.zd)((0,d.pd)(e)),h=null!==(t=l.apiKey)&&void 0!==t?t:null,f=null!==(n=l.oobCode)&&void 0!==n?n:null,m=function Oi(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);c(h&&f&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=f,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=l.tenantId)&&void 0!==u?u:null}static parseLink(e){const t=function Pi(r){const e=(0,d.zd)((0,d.pd)(r)).link,t=e?(0,d.zd)((0,d.pd)(e)).deep_link_id:null,n=(0,d.zd)((0,d.pd)(r)).deep_link_id;return(n?(0,d.zd)((0,d.pd)(n)).link:null)||n||t||e||r}(e);try{return new Q(t)}catch{return null}}}let ue=(()=>{class r{constructor(){this.providerId=r.PROVIDER_ID}static credential(t,n){return Y._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Q.parseLink(n);return c(i,"argument-error"),Y._fromEmailAndCode(t,i.code,i.tenantId)}}return r.PROVIDER_ID="password",r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",r.EMAIL_LINK_SIGN_IN_METHOD="emailLink",r})();class M{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class H extends M{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class v extends H{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return c("providerId"in t&&"signInMethod"in t,"argument-error"),A._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return c(e.idToken||e.accessToken,"argument-error"),A._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return v.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return v.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:u}=e;if(!n&&!i&&!t&&!s||!u)return null;try{return new v(u)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:s})}catch{return null}}}let ce=(()=>{class r extends H{constructor(){super("facebook.com")}static credential(t){return A._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch{return null}}}return r.FACEBOOK_SIGN_IN_METHOD="facebook.com",r.PROVIDER_ID="facebook.com",r})(),le=(()=>{class r extends H{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return A._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return r.credential(n,i)}catch{return null}}}return r.GOOGLE_SIGN_IN_METHOD="google.com",r.PROVIDER_ID="google.com",r})(),de=(()=>{class r extends H{constructor(){super("github.com")}static credential(t){return A._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch{return null}}}return r.GITHUB_SIGN_IN_METHOD="github.com",r.PROVIDER_ID="github.com",r})(),he=(()=>{class r extends H{constructor(){super("twitter.com")}static credential(t,n){return A._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return r.credential(n,i)}catch{return null}}}return r.TWITTER_SIGN_IN_METHOD="twitter.com",r.PROVIDER_ID="twitter.com",r})();function nr(r,e){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signUp",_(r,e))})).apply(this,arguments)}class R{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,a.Z)(function*(){const s=yield F._fromIdTokenResponse(e,n,i),o=rr(n);return new R({user:s,providerId:o,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,a.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const i=rr(n);return new R({user:e,providerId:i,_tokenResponse:n,operationType:t})})()}}function rr(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}function ot(){return(ot=(0,a.Z)(function*(r){var e;const t=T(r);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new R({user:t.currentUser,providerId:null,operationType:"signIn"});const n=yield nr(t,{returnSecureToken:!0}),i=yield R._fromIdTokenResponse(t,"signIn",n,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class fe extends d.ZR{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fe.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new fe(e,t,n,i)}}function ir(r,e,t,n){return("reauthenticate"===e?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?fe._fromErrorAndOperation(r,s,e,n):s})}function sr(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}function at(){return at=(0,a.Z)(function*(r,e){const t=(0,d.m9)(r);yield pe(!0,t,e);const{providerUserInfo:n}=yield function Yr(r,e){return Ce.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=sr(n||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),at.apply(this,arguments)}function ut(r,e){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(r,e,t=!1){const n=yield C(r,e._linkToIdToken(r.auth,yield r.getIdToken()),t);return R._forOperation(r,"link",n)})).apply(this,arguments)}function pe(r,e,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(r,e,t){yield K(e);const i=!1===r?"provider-already-linked":"no-such-provider";c(sr(e.providerData).has(t)===r,e.auth,i)})).apply(this,arguments)}function or(r,e){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(r,e,t=!1){const{auth:n}=r,i="reauthenticate";try{const s=yield C(r,ir(n,i,e,r),t);c(s.idToken,n,"internal-error");const o=ie(s.idToken);c(o,n,"internal-error");const{sub:u}=o;return c(r.uid===u,n,"user-mismatch"),R._forOperation(r,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&y(n,"user-mismatch"),s}})).apply(this,arguments)}function ar(r,e){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(r,e,t=!1){const n="signIn",i=yield ir(r,n,e),s=yield R._fromIdTokenResponse(r,n,i);return t||(yield r._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ft(r,e){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(r,e){return ar(T(r),e)})).apply(this,arguments)}function ur(r,e){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(r,e){const t=(0,d.m9)(r);return yield pe(!1,t,e.providerId),ut(t,e)})).apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(r,e){return b(r,"POST","/v1/accounts:signInWithCustomToken",_(r,e))})).apply(this,arguments)}function It(){return It=(0,a.Z)(function*(r,e){const t=T(r),n=yield function Li(r,e){return gt.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield R._fromIdTokenResponse(t,"signIn",n);return yield t._updateCurrentUser(i.user),i}),It.apply(this,arguments)}function me(r,e,t){var n;c((null===(n=t.url)||void 0===n?void 0:n.length)>0,r,"invalid-continue-uri"),c(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(c(t.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(c(t.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Et(){return Et=(0,a.Z)(function*(r,e,t){const n=(0,d.m9)(r),i={requestType:"PASSWORD_RESET",email:e};t&&me(n,i,t),yield function _i(r,e){return je.apply(this,arguments)}(n,i)}),Et.apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(function*(r,e,t){yield er((0,d.m9)(r),{oobCode:e,newPassword:t})})).apply(this,arguments)}function kt(){return kt=(0,a.Z)(function*(r,e){yield function fi(r,e){return ze.apply(this,arguments)}((0,d.m9)(r),{oobCode:e})}),kt.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(r,e,t){const n=T(r),i=yield nr(n,{returnSecureToken:!0,email:e,password:t}),s=yield R._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(s.user),s})).apply(this,arguments)}function Pt(){return Pt=(0,a.Z)(function*(r,e,t){const n=(0,d.m9)(r),i={requestType:"EMAIL_SIGNIN",email:e};c(t.handleCodeInApp,n,"argument-error"),t&&me(n,i,t),yield function gi(r,e){return Ke.apply(this,arguments)}(n,i)}),Pt.apply(this,arguments)}function Hi(r,e){const t=Q.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}function wt(){return(wt=(0,a.Z)(function*(r,e,t){const n=(0,d.m9)(r),i=ue.credentialWithLink(e,t||q());return c(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),ft(n,i)})).apply(this,arguments)}function Ct(){return Ct=(0,a.Z)(function*(r,e){const t=(0,d.m9)(r),i={requestType:"VERIFY_EMAIL",idToken:yield r.getIdToken()};e&&me(t.auth,i,e);const{email:s}=yield function mi(r,e){return Be.apply(this,arguments)}(t.auth,i);s!==r.email&&(yield r.reload())}),Ct.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(r,e){return g(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ut(){return Ut=(0,a.Z)(function*(r,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const n=(0,d.m9)(r),s={idToken:yield n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield C(n,function Bi(r,e){return Lt.apply(this,arguments)}(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:l})=>"password"===l);u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),yield n._updateTokensIfNecessary(o)}),Ut.apply(this,arguments)}function cr(r,e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(r,e,t){const{auth:n}=r,s={idToken:yield r.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield C(r,tr(n,s));yield r._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class z{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class lr extends z{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Xi extends z{constructor(e,t){super(e,"facebook.com",t)}}class Qi extends lr{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class es extends z{constructor(e,t){super(e,"google.com",t)}}class ts extends lr{constructor(e,t,n){super(e,"twitter.com",t,n)}}function xt(){return(xt=(0,a.Z)(function*(r){return(0,d.m9)(r).delete()})).apply(this,arguments)}const _e="__sak";class dr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_e,"1"),this.storage.removeItem(_e),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class r extends dr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ls(){const r=(0,d.z$)();return Ze(r)||oe(r)}()&&function ui(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jn(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key)return void this.forAllChangedKeys((u,l,h)=>{this.notifyListeners(u,h)});const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(i);if(t.newValue!==u)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);!function ai(){return(0,d.w1)()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,n){var i=()=>super._set,s=this;return(0,a.Z)(function*(){yield i().call(s,t,n),s.localCache[t]=JSON.stringify(n)})()}_get(t){var n=()=>super._get,i=this;return(0,a.Z)(function*(){const s=yield n().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var n=()=>super._remove,i=this;return(0,a.Z)(function*(){yield n().call(i,t),delete i.localCache[t]})()}}return r.type="LOCAL",r})(),hr=(()=>{class r extends dr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}return r.type="SESSION",r})();let ms=(()=>{class r{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new r(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var n=this;return(0,a.Z)(function*(){const i=t,{eventId:s,eventType:o,data:u}=i.data,l=n.handlersMap[o];if(null==l||!l.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(l).map(function(){var m=(0,a.Z)(function*(O){return O(i.origin,u)});return function(O){return m.apply(this,arguments)}}()),f=yield function ps(r){return Promise.all(r.map(function(){var e=(0,a.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}});return function(t){return e.apply(this,arguments)}}()))}(h);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})})()}_subscribe(t,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return r.receivers=[],r})();function ge(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(10*Math.random());return r+t}class _s{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,a.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((l,h)=>{const f=ge("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:s,onMessage(O){const x=O;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(x.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"))}}},i.handlers.add(u),s.port1.addEventListener("message",u.onMessage),i.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{u&&i.removeMessageHandler(u)})})()}}function I(){return window}function Vt(){return typeof I().WorkerGlobalScope<"u"&&"function"==typeof I().importScripts}function Gt(){return(Gt=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fr="firebaseLocalStorageDb",Ts=1,Ie="firebaseLocalStorage",pr="fbase_key";class te{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ve(r,e){return r.transaction([Ie],e?"readwrite":"readonly").objectStore(Ie)}function Ht(){const r=indexedDB.open(fr,Ts);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Ie,{keyPath:pr})}catch(i){t(i)}}),r.addEventListener("success",(0,a.Z)(function*(){const n=r.result;n.objectStoreNames.contains(Ie)?e(n):(n.close(),yield function Es(){const r=indexedDB.deleteDatabase(fr);return new te(r).toPromise()}(),e(yield Ht()))}))})}function mr(r,e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(r,e,t){const n=ve(r,!0).put({[pr]:e,value:t});return new te(n).toPromise()})).apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(r,e){const t=ve(r,!1).get(e),n=yield new te(t).toPromise();return void 0===n?null:n.value})).apply(this,arguments)}function _r(r,e){const t=ve(r,!0).delete(e);return new te(t).toPromise()}const As=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,a.Z)(function*(){return t.db||(t.db=yield Ht()),t.db})()}_withRetries(t){var n=this;return(0,a.Z)(function*(){let i=0;for(;;)try{const s=yield n._openDb();return yield t(s)}catch(s){if(i++>3)throw s;n.db&&(n.db.close(),n.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,a.Z)(function*(){return Vt()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,a.Z)(function*(){t.receiver=ms._getInstance(function ys(){return Vt()?self:null}()),t.receiver._subscribe("keyChanged",function(){var n=(0,a.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return n.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var n=(0,a.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return n.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,a.Z)(function*(){var n,i;if(t.activeServiceWorker=yield function Is(){return Gt.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _s(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(n=s[0])&&void 0!==n&&n.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var n=this;return(0,a.Z)(function*(){if(n.sender&&n.activeServiceWorker&&function vs(){var r;return(null===(r=null==navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null}()===n.activeServiceWorker)try{yield n.sender._send("keyChanged",{key:t},n.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Ht();return yield mr(t,_e,"1"),yield _r(t,_e),!0}catch{}return!1})()}_withPendingWrite(t){var n=this;return(0,a.Z)(function*(){n.pendingWrites++;try{yield t()}finally{n.pendingWrites--}})()}_set(t,n){var i=this;return(0,a.Z)(function*(){return i._withPendingWrite((0,a.Z)(function*(){return yield i._withRetries(s=>mr(s,t,n)),i.localCache[t]=n,i.notifyServiceWorker(t)}))})()}_get(t){var n=this;return(0,a.Z)(function*(){const i=yield n._withRetries(s=>function Rs(r,e){return qt.apply(this,arguments)}(s,t));return n.localCache[t]=i,i})()}_remove(t){var n=this;return(0,a.Z)(function*(){return n._withPendingWrite((0,a.Z)(function*(){return yield n._withRetries(i=>_r(i,t)),delete n.localCache[t],n.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,a.Z)(function*(){const n=yield t._withRetries(o=>{const u=ve(o,!1).getAll();return new te(u).toPromise()});if(!n)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:u}of n)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(u)&&(t.notifyListeners(o,u),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return r.type="LOCAL",r})();function Ir(r){return`__${r}${Math.floor(1e6*Math.random())}`}function Z(r,e){return e?N(e):(c(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}Ir("rcb"),new $(3e4,6e4);class tn extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return D(e,this._buildIdpRequest())}_linkToIdToken(e,t){return D(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return D(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zs(r){return ar(r.auth,new tn(r),r.bypassAuthState)}function qs(r){const{auth:e,user:t}=r;return c(t,e,"internal-error"),or(t,new tn(r),r.bypassAuthState)}function $s(r){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(r){const{auth:e,user:t}=r;return c(t,e,"internal-error"),ut(t,new tn(r),r.bypassAuthState)})).apply(this,arguments)}class yr{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,a.Z)(function*(n,i){e.pendingPromise={resolve:n,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(n,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,a.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:l}=e;if(u)return void t.reject(u);const h={auth:t.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(h))}catch(f){t.reject(f)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zs;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return qs;default:y(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bs=new $(2e3,1e4);function rn(){return(rn=(0,a.Z)(function*(r,e,t){const n=T(r);V(r,e,M);const i=Z(n,t);return new an(n,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(r,e,t){const n=(0,d.m9)(r);V(n.auth,e,M);const i=Z(n.auth,t);return new an(n.auth,"linkViaPopup",e,i,n).executeNotNull()})).apply(this,arguments)}let an=(()=>{class r extends yr{constructor(t,n,i,s,o){super(t,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=this}executeNotNull(){var t=this;return(0,a.Z)(function*(){const n=yield t.execute();return c(n,t.auth,"internal-error"),n})()}onExecution(){var t=this;return(0,a.Z)(function*(){w(1===t.filter.length,"Popup operations only handle one event");const n=ge();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],n),t.authWindow.associatedEvent=n,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(E(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(E(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;this.pollId=null!==(i=null===(n=this.authWindow)||void 0===n?void 0:n.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(E(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Bs.get())};t()}}return r.currentPopupAction=null,r})();const Js="pendingRedirect",ne=new Map;class Ys extends yr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,a.Z)(function*(){let n=ne.get(t.auth._key());if(!n){try{const s=(yield function Xs(r,e){return un.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(s)}catch(i){n=()=>Promise.reject(i)}ne.set(t.auth._key(),n)}return t.bypassAuthState||ne.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,a.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const i=yield n.auth._redirectUserForId(e.eventId);if(i)return n.user=i,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function un(){return(un=(0,a.Z)(function*(r,e){const t=Er(e),n=Tr(r);if(!(yield n._isAvailable()))return!1;const i="true"===(yield n._get(t));return yield n._remove(t),i})).apply(this,arguments)}function cn(r,e){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(r,e){return Tr(r)._set(Er(e),"true")})).apply(this,arguments)}function Qs(r,e){ne.set(r._key(),e)}function Tr(r){return N(r._redirectPersistence)}function Er(r){return se(Js,r.config.apiKey,r.name)}function eo(r,e,t){return function to(r,e,t){return dn.apply(this,arguments)}(r,e,t)}function dn(){return(dn=(0,a.Z)(function*(r,e,t){const n=T(r);V(r,e,M),yield n._initializationPromise;const i=Z(n,t);return yield cn(i,n),i._openRedirect(n,e,"signInViaRedirect")})).apply(this,arguments)}function ro(r,e,t){return function io(r,e,t){return fn.apply(this,arguments)}(r,e,t)}function fn(){return(fn=(0,a.Z)(function*(r,e,t){const n=(0,d.m9)(r);V(n.auth,e,M),yield n.auth._initializationPromise;const i=Z(n.auth,t);yield pe(!1,n,e.providerId),yield cn(i,n.auth);const s=yield function kr(r){return _n.apply(this,arguments)}(n);return i._openRedirect(n.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(r,e){return yield T(r)._initializationPromise,Rr(r,e,!1)})).apply(this,arguments)}function Rr(r,e){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(r,e,t=!1){const n=T(r),i=Z(n,e),o=yield new Ys(n,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,e)),o})).apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(r){const e=ge(`${r.uid}:::`);return r._redirectEventId=e,yield r.auth._setRedirectUser(r),yield r.auth._persistUserIfCurrent(r),e})).apply(this,arguments)}class ao{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function uo(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ar(r);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ar(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(E(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sr(e))}saveEventToCache(e){this.cachedEventUids.add(Sr(e)),this.lastProcessedEventTime=Date.now()}}function Sr(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ar({type:r,error:e}){return"unknown"===r&&"auth/no-auth-event"===(null==e?void 0:e.code)}function gn(){return(gn=(0,a.Z)(function*(r,e={}){return g(r,"GET","/v1/projects",e)})).apply(this,arguments)}const lo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function In(){return In=(0,a.Z)(function*(r){if(r.config.emulator)return;const{authorizedDomains:e}=yield function co(r){return gn.apply(this,arguments)}(r);for(const t of e)try{if(po(t))return}catch{}y(r,"unauthorized-domain")}),In.apply(this,arguments)}function po(r){const e=q(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return""===o.hostname&&""===n?"chrome-extension:"===t&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===n}if(!ho.test(t))return!1;if(lo.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const mo=new $(3e4,6e4);function Or(){const r=I().___jsl;if(null!=r&&r.H)for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}let Te=null;function go(r){return Te=Te||function _o(r){return new Promise((e,t)=>{var n,i,s;function o(){Or(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Or(),t(E(r,"network-request-failed"))},timeout:mo.get()})}if(null!==(i=null===(n=I().gapi)||void 0===n?void 0:n.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=I().gapi)||void 0===s||!s.load){const u=Ir("iframefcb");return I()[u]=()=>{gapi.load?o():t(E(r,"network-request-failed"))},function gr(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=E("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",function bs(){var r,e;return null!==(e=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==e?e:document}().appendChild(n)})}(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>t(l))}o()}}).catch(e=>{throw Te=null,e})}(r),Te}const Io=new $(5e3,15e3),vo="__/auth/iframe",yo="emulator/auth/iframe",To={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(r){const e=r.config;c(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Oe(e,yo):`https://${r.config.authDomain}/${vo}`,n={apiKey:e.apiKey,appName:r.name,v:k.Jn},i=Eo.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${(0,d.xO)(n).slice(1)}`}function vn(){return vn=(0,a.Z)(function*(r){const e=yield go(r),t=I().gapi;return c(t,r,"internal-error"),e.open({where:document.body,url:Ro(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:To,dontclear:!0},n=>new Promise(function(){var i=(0,a.Z)(function*(s,o){yield n.restyle({setHideOnLeave:!1});const u=E(r,"network-request-failed"),l=I().setTimeout(()=>{o(u)},Io.get());function h(){I().clearTimeout(l),s(n)}n.ping(h).then(h,()=>{o(u)})});return function(s,o){return i.apply(this,arguments)}}()))}),vn.apply(this,arguments)}const So={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ao=500,Oo=600,Po="_blank",wo="http://localhost";class Pr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Co="__/auth/handler",Do="emulator/auth/handler";function wr(r,e,t,n,i,s){c(r.config.authDomain,r,"auth-domain-config-required"),c(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:k.Jn,eventId:i};if(e instanceof M){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",(0,d.xb)(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,h]of Object.entries(s||{}))o[l]=h}if(e instanceof H){const l=e.getScopes().filter(h=>""!==h);l.length>0&&(o.scopes=l.join(","))}r.tenantId&&(o.tid=r.tenantId);const u=o;for(const l of Object.keys(u))void 0===u[l]&&delete u[l];return`${function Lo({config:r}){return r.emulator?Oe(r,Do):`https://${r.authDomain}/${Co}`}(r)}?${(0,d.xO)(u).slice(1)}`}const yn="webStorageSupport",Mo=class Uo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hr,this._completeRedirectFn=Rr,this._overrideRedirectResult=Qs}_openPopup(e,t,n,i){var s=this;return(0,a.Z)(function*(){var o;w(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const u=wr(e,t,n,q(),i);return function No(r,e,t,n=Ao,i=Oo){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const l=Object.assign(Object.assign({},So),{width:n.toString(),height:i.toString(),top:s,left:o}),h=(0,d.z$)().toLowerCase();t&&(u=Hn(h)?Po:t),Gn(h)&&(e=e||wo,l.scrollbars="yes");const f=Object.entries(l).reduce((O,[x,Re])=>`${O}${x}=${Re},`,"");if(function oi(r=(0,d.z$)()){var e;return oe(r)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(h)&&"_self"!==u)return function bo(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}(e||"",u),new Pr(null);const m=window.open(e||"",u,f);c(m,r,"popup-blocked");try{m.focus()}catch{}return new Pr(m)}(e,u,ge())})()}_openRedirect(e,t,n,i){var s=this;return(0,a.Z)(function*(){return yield s._originValidation(e),function gs(r){I().location.href=r}(wr(e,t,n,q(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(w(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,a.Z)(function*(){const n=yield function ko(r){return vn.apply(this,arguments)}(e),i=new ao(e);return n.register("authEvent",s=>(c(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=n,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yn,{type:yn},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[yn];void 0!==o&&t(!!o),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function fo(r){return In.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jn()||Ze()||oe()}};var Cr="@firebase/auth";class xo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,a.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((null==n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){c(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vo=(0,d.Pz)("authIdTokenMaxAge")||300;let Lr=null;const Go=r=>function(){var e=(0,a.Z)(function*(t){const n=t&&(yield t.getIdTokenResult()),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Vo)return;const s=null==n?void 0:n.token;Lr!==s&&(Lr=s,yield fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function p(r=(0,k.Mq)()){const e=(0,k.qX)(r,"auth");if(e.isInitialized())return e.getImmediate();const t=function Hr(r,e){const t=(0,k.qX)(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if((0,d.vZ)(s,null!=e?e:{}))return i;y(i,"already-initialized")}return t.initialize({options:e})}(r,{popupRedirectResolver:Mo,persistence:[As,fs,hr]}),n=(0,d.Pz)("authTokenSyncURL");if(n){const s=Go(n);(function is(r,e,t){(0,d.m9)(r).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function rs(r,e,t,n){(0,d.m9)(r).onIdTokenChanged(e,t,n)}(t,o=>s(o))}const i=(0,d.q4)("auth");return i&&Yn(t,`http://${i}`),t}!function Wo(r){(0,k.Xd)(new Pn.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=n.options;return((u,l)=>{c(s&&!s.includes(":"),"invalid-api-key",{appName:u.name}),c(!(null!=o&&o.includes(":")),"argument-error",{appName:u.name});const h={apiKey:s,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kn(r)},f=new li(u,l,h);return function zr(r,e){const t=(null==e?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(N);null!=e&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,null==e?void 0:e.popupRedirectResolver)}(f,t),f})(n,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,k.Xd)(new Pn.wA("auth-internal",e=>{const t=T(e.getProvider("auth").getImmediate());return new xo(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.KN)(Cr,"0.22.0",function Fo(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,k.KN)(Cr,"0.22.0","esm2017")}("Browser");var L=(()=>{return(r=L||(L={})).APPLE="apple.com",r.FACEBOOK="facebook.com",r.GAME_CENTER="gc.apple.com",r.GITHUB="github.com",r.GOOGLE="google.com",r.MICROSOFT="microsoft.com",r.PLAY_GAMES="playgames.google.com",r.TWITTER="twitter.com",r.YAHOO="yahoo.com",r.PASSWORD="password",r.PHONE="phone",L;var r})();let Ho=(()=>{class r extends Vr.Uw{constructor(){super(),p().onAuthStateChanged(n=>this.handleAuthStateChange(n))}applyActionCode(t){return(0,a.Z)(function*(){return function Fi(r,e){return kt.apply(this,arguments)}(p(),t.oobCode)})()}createUserWithEmailAndPassword(t){var n=this;return(0,a.Z)(function*(){const i=p(),s=yield function Zi(r,e,t){return Ot.apply(this,arguments)}(i,t.email,t.password);return n.createSignInResult(s,null)})()}confirmPasswordReset(t){return(0,a.Z)(function*(){return function xi(r,e,t){return Rt.apply(this,arguments)}(p(),t.oobCode,t.newPassword)})()}deleteUser(){return(0,a.Z)(function*(){const n=p().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function ss(r){return xt.apply(this,arguments)}(n)})()}getCurrentUser(){var t=this;return(0,a.Z)(function*(){const n=p();return{user:t.createUserResult(n.currentUser)}})()}getIdToken(t){return(0,a.Z)(function*(){const n=p();if(!n.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return{token:(yield n.currentUser.getIdToken(null==t?void 0:t.forceRefresh))||""}})()}getRedirectResult(){var t=this;return(0,a.Z)(function*(){const n=p(),i=yield function so(r,e){return pn.apply(this,arguments)}(n),s=i?v.credentialFromResult(i):null;return t.createSignInResult(i,s)})()}getTenantId(){return(0,a.Z)(function*(){return{tenantId:p().tenantId}})()}isSignInWithEmailLink(t){return(0,a.Z)(function*(){return p(),{isSignInWithEmailLink:Hi(0,t.emailLink)}})()}linkWithApple(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.APPLE);n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithEmailAndPassword(t){var n=this;return(0,a.Z)(function*(){const i=ue.credential(t.email,t.password),s=yield n.linkCurrentUserWithCredential(i);return n.createSignInResult(s,i)})()}linkWithEmailLink(t){var n=this;return(0,a.Z)(function*(){const i=ue.credentialWithLink(t.email,t.emailLink),s=yield n.linkCurrentUserWithCredential(i);return n.createSignInResult(s,i)})()}linkWithFacebook(t){var n=this;return(0,a.Z)(function*(){const i=new ce;n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=ce.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithGameCenter(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}linkWithGithub(t){var n=this;return(0,a.Z)(function*(){const i=new de;n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=de.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithGoogle(t){var n=this;return(0,a.Z)(function*(){const i=new le;n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=le.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithMicrosoft(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.MICROSOFT);n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithPhoneNumber(t){return(0,a.Z)(function*(){throw new Error("Not implemented on web.")})()}linkWithPlayGames(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}linkWithTwitter(t){var n=this;return(0,a.Z)(function*(){const i=new he;n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=he.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithYahoo(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.YAHOO);n.applySignInOptions(t||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}reload(){return(0,a.Z)(function*(){const n=p().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return Wn(n)})()}sendEmailVerification(){return(0,a.Z)(function*(){const n=p().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function $i(r,e){return Ct.apply(this,arguments)}(n)})()}sendPasswordResetEmail(t){return(0,a.Z)(function*(){return function Mi(r,e,t){return Et.apply(this,arguments)}(p(),t.email)})()}sendSignInLinkToEmail(t){return(0,a.Z)(function*(){return function Gi(r,e,t){return Pt.apply(this,arguments)}(p(),t.email,t.actionCodeSettings)})()}setLanguageCode(t){return(0,a.Z)(function*(){p().languageCode=t.languageCode})()}signInAnonymously(){var t=this;return(0,a.Z)(function*(){const n=p(),i=yield function bi(r){return ot.apply(this,arguments)}(n);return t.createSignInResult(i,null)})()}setTenantId(t){return(0,a.Z)(function*(){p().tenantId=t.tenantId})()}signInWithApple(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.APPLE);n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithCustomToken(t){var n=this;return(0,a.Z)(function*(){const i=p(),s=yield function Ui(r,e){return It.apply(this,arguments)}(i,t.token);return n.createSignInResult(s,null)})()}signInWithEmailAndPassword(t){var n=this;return(0,a.Z)(function*(){const i=p(),s=yield function Vi(r,e,t){return ft((0,d.m9)(r),ue.credential(e,t))}(i,t.email,t.password);return n.createSignInResult(s,null)})()}signInWithEmailLink(t){var n=this;return(0,a.Z)(function*(){const i=p(),s=yield function zi(r,e,t){return wt.apply(this,arguments)}(i,t.email,t.emailLink);return n.createSignInResult(s,null)})()}signInWithFacebook(t){var n=this;return(0,a.Z)(function*(){const i=new ce;n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=ce.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithGithub(t){var n=this;return(0,a.Z)(function*(){const i=new de;n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=de.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithGoogle(t){var n=this;return(0,a.Z)(function*(){const i=new le;n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=le.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithMicrosoft(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.MICROSOFT);n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithPhoneNumber(t){return(0,a.Z)(function*(){throw new Error("Not implemented on web.")})()}signInWithPlayGames(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}signInWithGameCenter(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}signInWithTwitter(t){var n=this;return(0,a.Z)(function*(){const i=new he;n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=he.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithYahoo(t){var n=this;return(0,a.Z)(function*(){const i=new v(L.YAHOO);n.applySignInOptions(t||{},i);const s=yield n.signInWithPopupOrRedirect(i,null==t?void 0:t.mode),o=v.credentialFromResult(s);return n.createSignInResult(s,o)})()}signOut(){return(0,a.Z)(function*(){yield p().signOut()})()}unlink(t){var n=this;return(0,a.Z)(function*(){const i=p();if(!i.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);const s=yield function Ci(r,e){return at.apply(this,arguments)}(i.currentUser,t.providerId);return{user:n.createUserResult(s)}})()}updateEmail(t){return(0,a.Z)(function*(){const i=p().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function Ki(r,e){return cr((0,d.m9)(r),e,null)}(i,t.newEmail)})()}updatePassword(t){return(0,a.Z)(function*(){const i=p().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function Ji(r,e){return cr((0,d.m9)(r),null,e)}(i,t.newPassword)})()}updateProfile(t){return(0,a.Z)(function*(){const i=p().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function ji(r,e){return Ut.apply(this,arguments)}(i,t)})()}useAppLanguage(){return(0,a.Z)(function*(){p().useDeviceLanguage()})()}useEmulator(t){return(0,a.Z)(function*(){Yn(p(),`${t.host}:${t.port||9099}`)})()}handleAuthStateChange(t){const i={user:this.createUserResult(t)};this.notifyListeners("authStateChange",i)}applySignInOptions(t,n){if(t.customParameters){const i={};t.customParameters.map(s=>{i[s.key]=s.value}),n.setCustomParameters(i)}if(t.scopes)for(const i of t.scopes)n.addScope(i)}signInWithPopupOrRedirect(t,n){const i=p();return"redirect"===n?eo(i,t):function js(r,e,t){return rn.apply(this,arguments)}(i,t)}linkCurrentUserWithPopupOrRedirect(t,n){const i=p();if(!i.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return"redirect"===n?ro(i.currentUser,t):function Ks(r,e,t){return on.apply(this,arguments)}(i.currentUser,t)}linkCurrentUserWithCredential(t){const n=p();if(!n.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return ur(n.currentUser,t)}createSignInResult(t,n){return{user:this.createUserResult((null==t?void 0:t.user)||null),credential:this.createCredentialResult(n),additionalUserInfo:this.createAdditionalUserInfoResult(t)}}createCredentialResult(t){if(!t)return null;const n={providerId:t.providerId};return t instanceof A&&(n.accessToken=t.accessToken,n.idToken=t.idToken,n.secret=t.secret),n}createUserResult(t){return t?{displayName:t.displayName,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,phoneNumber:t.phoneNumber,photoUrl:t.photoURL,providerId:t.providerId,tenantId:t.tenantId,uid:t.uid}:null}createAdditionalUserInfoResult(t){if(!t)return null;const n=function ns(r){const{user:e,_tokenResponse:t}=r;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function Yi(r){var e,t;if(!r)return null;const{providerId:n}=r,i=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},s=r.isNewUser||"identitytoolkit#SignupNewUserResponse"===r.kind;if(!n&&null!=r&&r.idToken){const o=null===(t=null===(e=ie(r.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(o)return new z(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!n)return null;switch(n){case"facebook.com":return new Xi(s,i);case"github.com":return new Qi(s,i);case"google.com":return new es(s,i);case"twitter.com":return new ts(s,i,r.screenName||null);case"custom":case"anonymous":return new z(s,null);default:return new z(s,n,i)}}(t)}(t);if(!n)return null;const{isNewUser:i,profile:s,providerId:o,username:u}=n,l={isNewUser:i};return null!==o&&(l.providerId=o),null!==s&&(l.profile=s),null!=u&&(l.username=u),l}}return r.ERROR_NO_USER_SIGNED_IN="No user is signed in.",r})()}}]);