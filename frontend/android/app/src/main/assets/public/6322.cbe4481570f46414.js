"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6322],{6322:(_,r,n)=>{n.r(r),n.d(r,{HomePage:()=>p});var i=n(6114),l=n(8614),e=n(8256),g=n(6435),h=n(6008);let p=(()=>{class a{constructor(t,s){this.uService=t,this.apiService=s,this.basicStats={steps:"0",distance:"0",sleepHours:"0",burnedCalories:"0"},this.userInfo=this.uService.userInfo,this.postOption={access_token:this.uService.user.authentication.accessToken},this.curDate=new Date,this.startDate=(0,l.F)(this.curDate),this.getOption={end_time:this.curDate.toISOString(),start_time:this.startDate.toISOString(),which_tables:["aggregate","sleep"],aggregate_types:["steps","calories","distance"],summarize:!0}}ngOnInit(){this._getBasicStats()}parseBasicStats(t){const s=t.sleep.at(-1),o=new Date(s.startTime),d=((new Date(s.endTime).getTime()-o.getTime())/1e3/60/60).toFixed(2);return{burnedCalories:t.aggregate[0].sum.toFixed(2),distance:t.aggregate[1].sum.toFixed(2),steps:t.aggregate[2].sum.toFixed(2),sleepHours:d}}_getBasicStats(){const t=this.uService.nextPullDataDate;null===t||t.getTime()<Date.now()?(this.uService.nextPullDataDate=new Date(this.curDate.getTime()+864e5),this.apiService.pullDataAndGetData(this.userInfo,this.postOption,this.getOption).subscribe(([s,o])=>{this.basicStats=this.parseBasicStats(s),this.uService.userInfo=o})):this.apiService.getStats(this.userInfo.id,this.getOption).subscribe(s=>{console.log(s),this.basicStats=this.parseBasicStats(s)})}handleRefresh(t){setTimeout(()=>{this._getBasicStats(),t.target.complete()},50)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(g.K),e.Y36(h.s))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-home"]],standalone:!0,features:[e.jDz],decls:49,vars:6,consts:[[3,"fullscreen"],[3,"translucent"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","refreshingSpinner","circles"],[1,"recs"],[1,"rec-header"],[1,"stats-title"],[1,"stat-card"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title"),e._uU(4," YesCoach "),e.qZA()()(),e.TgZ(5,"ion-refresher",2),e.NdJ("ionRefresh",function(u){return s.handleRefresh(u)}),e._UZ(6,"ion-refresher-content",3),e.qZA(),e.TgZ(7,"div",4)(8,"h1",5),e._uU(9," Current Recommendations "),e.qZA(),e.TgZ(10,"ion-list")(11,"ion-item")(12,"ion-checkbox"),e._uU(13,"Play Tennis"),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-checkbox"),e._uU(16,"Sleep at 10:00pm"),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-checkbox"),e._uU(19,"Drink a Glass of Water at 7:32pm"),e.qZA()()()(),e.TgZ(20,"h1",6),e._uU(21,"24hr stats"),e.qZA(),e.TgZ(22,"ion-grid")(23,"ion-row")(24,"ion-col")(25,"div",7)(26,"h1"),e._uU(27),e.qZA(),e.TgZ(28,"p"),e._uU(29,"Steps Walked"),e.qZA()()(),e.TgZ(30,"ion-col")(31,"div",7)(32,"h1"),e._uU(33),e.qZA(),e.TgZ(34,"p"),e._uU(35,"Miles Walked"),e.qZA()()()(),e.TgZ(36,"ion-row")(37,"ion-col")(38,"div",7)(39,"h1"),e._uU(40),e.qZA(),e.TgZ(41,"p"),e._uU(42,"Calories Burned"),e.qZA()()(),e.TgZ(43,"ion-col")(44,"div",7)(45,"h1"),e._uU(46),e.qZA(),e.TgZ(47,"p"),e._uU(48,"Hours Slept"),e.qZA()()()()()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("translucent",!0),e.xp6(26),e.Oqu(s.basicStats.steps),e.xp6(6),e.Oqu(s.basicStats.distance),e.xp6(7),e.Oqu(s.basicStats.burnedCalories),e.xp6(6),e.Oqu(s.basicStats.sleepHours))},dependencies:[i.Pc,i.nz,i.wI,i.W2,i.jY,i.Gu,i.Ie,i.q_,i.nJ,i.Wo,i.Nd,i.wd,i.sr,i.w],styles:[".stat-card[_ngcontent-%COMP%]{outline:#787878 solid 1px;border-radius:.5rem;background-color:#232323;color:#da541f;font-weight:700;padding:2px;height:100%;text-align:center}.stat-card[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:400}.recs-title[_ngcontent-%COMP%]{font-weight:700;margin-top:16px;font-size:32px}p[_ngcontent-%COMP%]{color:#fff}.stats-title[_ngcontent-%COMP%]{margin:8px;border-bottom:thin solid white;padding-top:12px}"]}),a})()}}]);